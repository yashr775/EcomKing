datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id        Int      @id @default(autoincrement())
    email     String   @unique
    name      String?
    password  String
    isAdmin   Boolean  @default(false)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Products {
    id           Int         @id @default(autoincrement())
    name         String
    slug         String      @unique
    image        String
    brand        String
    category     String
    description  String
    price        Float
    countInStock Int
    rating       Float
    numReviews   Int
    createdAt    DateTime    @default(now())
    updatedAt    DateTime    @updatedAt
    OrderItem    OrderItem[]
}

model Orders {
    id         String      @id @default(uuid()) @db.Uuid
    orderItems OrderItem[]
}

model OrderItem {
    id        Int      @id @default(autoincrement())
    orderId   String
    productId Int
    quantity  Int
    order     Orders   @relation(fields: [orderId], references: [id])
    product   Products @relation(fields: [productId], references: [id])

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
